(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["createWorkspace"],{"25f0":function(e,t,a){"use strict";var r=a("6eeb"),s=a("825a"),n=a("d039"),i=a("ad6d"),o="toString",c=RegExp.prototype,u=c[o],l=n((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),d=u.name!=o;(l||d)&&r(RegExp.prototype,o,(function(){var e=s(this),t=String(e.source),a=e.flags,r=String(void 0===a&&e instanceof RegExp&&!("flags"in c)?i.call(e):a);return"/"+t+"/"+r}),{unsafe:!0})},6683:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("div",{staticClass:"field"},[a("div",{staticClass:"label"},[e._v(" Name ")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"input",attrs:{type:"text",placeholder:"Workspace Name",disabled:e.disabled},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}})])]),a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.public,expression:"form.public"}],attrs:{disabled:e.disabled},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"public",t.target.multiple?a:a[0])}}},[a("option",{domProps:{value:!1}},[e._v("Private")]),a("option",{domProps:{value:!0}},[e._v("Public")])])])])]),a("div",{staticClass:"level vertical-pad-m has-text-centered"},[a("div",{staticClass:"level-left"},[a("button",{staticClass:"button is-primary",attrs:{type:"submit",disabled:e.disabled||!e.canSubmit}},[e._v(" Save ")])]),a("div",{staticClass:"level-right"},[e.editMode?a("button",{staticClass:"button is-danger",attrs:{disabled:e.disabled,type:"button"},on:{click:e.deleteWorkspace}},[e._v(" Delete Workspace ")]):e._e()])])])},s=[],n=(a("b0c0"),a("96cf"),a("1da1")),i=a("750b"),o=a("a21c"),c=a("0613"),u=Object(i["c"])({name:"WorkspaceEditor",props:{editMode:{type:Boolean}},setup:function(e,t){var a=t.root,r=t.emit,s=Object(i["a"])(c["b"].getters.workspace),u=Object(i["e"])({name:"",public:!1}),l=Object(i["a"])((function(){return!!u.name&&"boolean"===typeof u.public}));e.editMode&&Object(i["g"])(c["b"].getters.workspace,(function(e){u.name=e.name,u.public=e.public}),{deep:!0});var d=Object(i["a"])(c["a"].getters.user),p=Object(i["a"])((function(){return e.editMode&&s.value.userId!==d.value.id})),f=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.editMode){t.next=6;break}return t.next=3,o["f"].update(s.value.id,u);case 3:n=t.sent,t.next=9;break;case 6:return t.next=8,o["f"].create(u);case 8:n=t.sent;case 9:"success"in n?e.editMode?(c["b"].mutations.setWorkspace(n.data),a.$toasted.success("Saved!")):r("workspace-created",n.data):a.$toasted.error("Error saving workspace: "+n.message);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete this workspace?")){e.next=5;break}return e.next=3,o["f"].del(s.value.id);case 3:t=e.sent,"success"in t?(a.$toasted.success("Workspace deleted"),a.$router.push("/")):a.$toasted.error("Error deleting workspace: "+t.message);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{form:u,submit:f,canSubmit:l,disabled:p,deleteWorkspace:m}}}),l=u,d=a("2877"),p=Object(d["a"])(l,r,s,!1,null,null,null);t["a"]=p.exports},"78cb":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._m(0),a("div",{staticClass:"section fixed-column"},[a("workspace-editor",{on:{"workspace-created":e.workspaceCreated}})],1)])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hero is-primary"},[a("div",{staticClass:"hero-body"},[a("h1",{staticClass:"title"},[e._v("Create Workspace")])])])}],n=(a("d3b7"),a("25f0"),a("750b")),i=a("6683"),o=Object(n["c"])({name:"CreateWorkspace",components:{WorkspaceEditor:i["a"]},setup:function(e,t){var a=t.root,r=function(e){a.$router.push({name:"Connections",params:{workspaceId:e.id.toString()}})};return{workspaceCreated:r}}}),c=o,u=a("2877"),l=Object(u["a"])(c,r,s,!1,null,null,null);t["default"]=l.exports},ad6d:function(e,t,a){"use strict";var r=a("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b0c0:function(e,t,a){var r=a("83ab"),s=a("9bf2").f,n=Function.prototype,i=n.toString,o=/^\s*function ([^ (]*)/,c="name";r&&!(c in n)&&s(n,c,{configurable:!0,get:function(){try{return i.call(this).match(o)[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=createWorkspace.fb2c4777.js.map