(function(e){function t(t){for(var r,o,c=t[0],s=t[1],u=t[2],p=0,d=[];p<c.length;p++)o=c[p],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={app:0},i={app:0},a=[];function c(e){return s.p+"js/"+({about:"about","connectionEditor~connectionList~graphView~item~itemList":"connectionEditor~connectionList~graphView~item~itemList","connectionEditor~itemEditor":"connectionEditor~itemEditor",connectionEditor:"connectionEditor",connectionList:"connectionList",itemList:"itemList",item:"item",graphView:"graphView",itemEditor:"itemEditor",createWorkspace:"createWorkspace",forbidden:"forbidden",login:"login",register:"register",workspace:"workspace",workspaceSettings:"workspaceSettings"}[e]||e)+"."+{about:"af0f2154","connectionEditor~connectionList~graphView~item~itemList":"83eeb35d","connectionEditor~itemEditor":"699ee625",connectionEditor:"3f09a565",connectionList:"194eb962",itemList:"40e59e07",item:"ff7b65f2",graphView:"8c8b8fa9",itemEditor:"e30098c9",createWorkspace:"fb2c4777",forbidden:"123ae4f9",login:"7b19b41e",register:"9b4c0e5e",workspace:"3a5fa4e8",workspaceSettings:"1712b0d1"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"connectionEditor~connectionList~graphView~item~itemList":1,"connectionEditor~itemEditor":1,connectionList:1,itemList:1,item:1,graphView:1,itemEditor:1,workspaceSettings:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({about:"about","connectionEditor~connectionList~graphView~item~itemList":"connectionEditor~connectionList~graphView~item~itemList","connectionEditor~itemEditor":"connectionEditor~itemEditor",connectionEditor:"connectionEditor",connectionList:"connectionList",itemList:"itemList",item:"item",graphView:"graphView",itemEditor:"itemEditor",createWorkspace:"createWorkspace",forbidden:"forbidden",login:"login",register:"register",workspace:"workspace",workspaceSettings:"workspaceSettings"}[e]||e)+"."+{about:"31d6cfe0","connectionEditor~connectionList~graphView~item~itemList":"1aa6f2e9","connectionEditor~itemEditor":"a2435f9a",connectionEditor:"31d6cfe0",connectionList:"60de6665",itemList:"c295f418",item:"64b1d33c",graphView:"c98ae89f",itemEditor:"1a3f1748",createWorkspace:"31d6cfe0",forbidden:"31d6cfe0",login:"31d6cfe0",register:"31d6cfe0",workspace:"31d6cfe0",workspaceSettings:"a80ac1d6"}[e]+".css",i=s.p+r,a=document.getElementsByTagName("link"),c=0;c<a.length;c++){var u=a[c],p=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(p===r||p===i))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],p=u.getAttribute("data-href");if(p===r||p===i)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var r=t&&t.target&&t.target.src||i,a=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete o[e],l.parentNode.removeChild(l),n(a)},l.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(l)})).then((function(){o[e]=0})));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise((function(t,n){r=i[e]=[t,n]}));t.push(r[2]=a);var u,p=document.createElement("script");p.charset="utf-8",p.timeout=120,s.nc&&p.setAttribute("nonce",s.nc),p.src=c(e);var d=new Error;u=function(t){p.onerror=p.onload=null,clearTimeout(l);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",d.name="ChunkLoadError",d.type=r,d.request=o,n[1](d)}i[e]=void 0}};var l=setTimeout((function(){u({type:"timeout",target:p})}),12e4);p.onerror=p.onload=u,document.head.appendChild(p)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],p=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var l=p;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0613":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));n("498a"),n("96cf");var r=n("1da1"),o=n("2b0e"),i=n("a21c"),a=o["a"].observable({user:{},workspace:{}}),c={getters:{user:function(){return a.user},isAuthenticated:function(){return!(!a.user||!a.user.id)}},mutations:{register:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["e"].register({username:e.username.trim(),password:e.password.trim()});case 2:if(n=t.sent,"success"in n){t.next=5;break}throw n;case 5:case"end":return t.stop()}}),t)})))()},setUser:function(e){a.user=e},login:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,i["e"].login({username:e.username.trim(),password:e.password.trim()});case 2:if(r=n.sent,"success"in r){n.next=5;break}throw r;case 5:return n.next=7,i["e"].getCurrent();case 7:if(o=n.sent,"success"in o){n.next=10;break}throw o;case 10:t.setUser(o.data);case 11:case"end":return n.stop()}}),n)})))()},logout:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["e"].logout();case 2:if(t=e.sent,t.success){e.next=5;break}throw t;case 5:a.user={};case 6:case"end":return e.stop()}}),e)})))()}}},s={getters:{workspace:function(){return a.workspace}},mutations:{setWorkspace:function(e){a.workspace=e},loadWorkspace:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,i["f"].getById(e);case 2:if(r=n.sent,!("success"in r)){n.next=7;break}t.setWorkspace(r.data),n.next=8;break;case 7:throw r;case 8:case"end":return n.stop()}}),n)})))()},reloadWorkspace:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadWorkspace(a.workspace.id);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}}}},"288f":function(e,t,n){"use strict";var r=n("8af0"),o=n.n(r);o.a},"7b0e":function(e,t,n){"use strict";var r=n("c5a5"),o=n.n(r);o.a},"8af0":function(e,t,n){},a21c:function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return l}));n("a15b");var r=n("5530"),o=n("bc3a"),i=n.n(o),a=i.a.create({baseURL:"/api",withCredentials:!0});a.interceptors.response.use((function(e){return e.data}),(function(e){var t;return console.log(Object(r["a"])({},e)),(null===(t=e.response.data)||void 0===t?void 0:t.message)instanceof Array&&(e.response.data.message=e.response.data.message.join(", ")),e.response.data}));var c={getCurrent:function(){return a.get("/user/current")},register:function(e){return a.post("/user/register",e)},login:function(e){return a.post("/user/login",e)},logout:function(){return a.post("/user/logout")}},s={getById:function(e){return a.get("/workspace/".concat(e))},getByUser:function(){return a.get("/workspace/user")},getSharedWith:function(){return a.get("/workspace/shared")},create:function(e){return a.post("/workspace/create",e)},update:function(e,t){return a.put("/workspace/update/".concat(e),t)},addUser:function(e){return a.post("/workspace/user/add",e)},removeUser:function(e){return a.post("/workspace/user/remove",e)},del:function(e){return a.delete("/workspace/".concat(e))}},u={scrape:function(e){return a.get("/metadata",{params:{url:e}})}},p={getByWorkspace:function(e,t){return a.get("/connection/workspace/".concat(e),{params:t})},getById:function(e){return a.get("/connection/".concat(e))},getWithItem:function(e,t){return a.get("/connection/item/".concat(e),{params:t})},create:function(e){return a.post("/connection/create",e)},update:function(e,t){return a.put("/connection/update/".concat(e),t)},del:function(e){return a.delete("/connection/".concat(e))}},d={getById:function(e){return a.get("/item/".concat(e))},getByWorkspace:function(e,t){return a.get("/item/workspace/".concat(e),{params:t})},getConnectedWith:function(e,t){return a.get("/item/connected/".concat(e),{params:t})},create:function(e){return a.post("/item/create",e)},update:function(e,t){return a.put("item/update/".concat(e),t)},del:function(e){return a.delete("/item/".concat(e))}},l={getByWorkspace:function(e){return a.get("/tag/workspace/".concat(e))}}},c5a5:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("app-header"),n("router-view")],1)},i=[],a=(n("96cf"),n("1da1")),c=n("750b"),s=(n("f27b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"navbar is-unselectable is-primary"},[n("div",{staticClass:"navbar-brand"},[e.isAuthenticated?[n("router-link",{staticClass:"navbar-item",attrs:{to:"/"},nativeOn:{click:function(t){e.isActive=!1}}},[e._v(" "+e._s(e.user.name)+" ")])]:[n("router-link",{staticClass:"navbar-item",attrs:{to:{name:"Register"}},nativeOn:{click:function(t){e.isActive=!1}}},[e._v(" Sign up ")])],n("span",{staticClass:"navbar-burger",class:{"is-active":e.isActive},on:{click:function(t){e.isActive=!e.isActive}}},[n("span"),n("span"),n("span")])],2),n("div",{staticClass:"navbar-menu",class:{"is-active":e.isActive},attrs:{id:"header-right"}},[n("div",{staticClass:"navbar-end has-text-centered"},[n("router-link",{staticClass:"navbar-item",attrs:{to:"/about"},nativeOn:{click:function(t){e.isActive=!1}}},[e._v(" About ")]),e.isAuthenticated?n("a",{staticClass:"navbar-item",on:{click:e.logout}},[e._v(" Log out ")]):e._e()],1)])])}),u=[],p=n("0613"),d=Object(c["c"])({name:"AppHeader",setup:function(e,t){var n=t.root,r=Object(c["f"])(!1),o=Object(c["a"])(p["a"].getters.user),i=Object(c["a"])(p["a"].getters.isAuthenticated),s=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.value=!1,e.next=3,p["a"].mutations.logout();case 3:n.$router.push({name:"Login"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{isActive:r,user:o,isAuthenticated:i,logout:s}}}),l=d,f=(n("7b0e"),n("2877")),m=Object(f["a"])(l,s,u,!1,null,null,null),h=m.exports,g=n("a21c"),b=Object(c["c"])({name:"App",components:{AppHeader:h},setup:function(){var e=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(p["a"].getters.isAuthenticated()){e.next=10;break}return e.prev=1,e.next=4,g["e"].getCurrent();case 4:t=e.sent,"error"in t||p["a"].mutations.setUser(t.data),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();e()}}),v=b,w=Object(f["a"])(v,o,i,!1,null,null,null),k=w.exports,E=(n("d3b7"),n("8c4f")),L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),n("div",[n("workspace-list"),n("workspace-list",{attrs:{sharedWith:""}})],1),n("div",{staticClass:"container vertical-pad-m has-text-centered"},[n("router-link",{attrs:{to:{name:"WorkspaceCreate"}}},[e._v(" Create new workspace ")])],1)])},y=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hero is-primary"},[n("div",{staticClass:"hero-body"},[n("h1",{staticClass:"title"},[e._v("Workspaces")])])])}],x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.workspaces,(function(e){return n("workspace-preview",{key:e.id,attrs:{workspace:e}})})),1)},O=[],_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-link",{staticClass:"box",attrs:{to:{name:"Items",params:{workspaceId:e.workspace.id}}}},[n("h1",{staticClass:"title is-5"},[e._v(e._s(e.workspace.name))]),n("div",{staticClass:"workspace-meta"},[e.shared?n("span",[n("strong",[e._v("Shared by "+e._s(e.workspace.user.name))])]):e._e(),n("span",[e._v(e._s(e.createdAt))]),n("span",[e._v(" "+e._s(e.workspace.sharedUsers.length)+" "+e._s(1==e.workspace.sharedUsers.length?"collaborator":"collaborators")+" ")]),n("span",[e.workspace.public?[e._v("Public")]:[e._v("Private")]],2)])])},j=[],C=(n("45fc"),Object(c["c"])({name:"WorkspacePreview",props:{workspace:{type:Object,required:!0}},setup:function(e){var t=Object(c["a"])((function(){return new Date(e.workspace.createdAt).toDateString()})),n=Object(c["a"])(p["a"].getters.user),r=Object(c["a"])((function(){var t;return(null===(t=e.workspace.sharedUsers)||void 0===t?void 0:t.some((function(e){return e.id===n.value.id})))||!1}));return{createdAt:t,shared:r}}})),A=C,W=(n("288f"),Object(f["a"])(A,_,j,!1,null,null,null)),I=W.exports,S=Object(c["c"])({name:"WorkspaceList",props:{sharedWith:{type:Boolean}},components:{WorkspacePreview:I},setup:function(e,t){var n=t.root,r=Object(c["f"])(null),o=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.sharedWith){t.next=6;break}return t.next=3,g["f"].getSharedWith();case 3:o=t.sent,t.next=9;break;case 6:return t.next=8,g["f"].getByUser();case 8:o=t.sent;case 9:"success"in o?r.value=o.data:n.$toasted.error("Error loading workspaces: "+o.message);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return o(),{workspaces:r,loadWorkspaces:o}}}),P=S,R=Object(f["a"])(P,x,O,!1,null,null,null),V=R.exports,B=Object(c["c"])({name:"Home",components:{WorkspaceList:V}}),U=B,$=Object(f["a"])(U,L,y,!1,null,null,null),q=$.exports;r["a"].use(E["a"]);var N=[{path:"/",name:"Home",component:q,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:function(){return n.e("login").then(n.bind(null,"a55b"))}},{path:"/register",name:"Register",component:function(){return n.e("register").then(n.bind(null,"73cf"))}},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/forbidden",name:"Forbidden",component:function(){return n.e("forbidden").then(n.bind(null,"dc82"))}},{path:"/workspace/create",name:"WorkspaceCreate",props:function(){return{editMode:!1}},component:function(){return n.e("createWorkspace").then(n.bind(null,"78cb"))}},{path:"/workspace/:workspaceId",meta:{requiresAuth:!0},component:function(){return n.e("workspace").then(n.bind(null,"20b0"))},props:function(e){return{id:parseInt(e.params.workspaceId)}},children:[{path:"/",name:"Items",alias:"items",props:{search:!0},component:function(){return Promise.all([n.e("connectionEditor~connectionList~graphView~item~itemList"),n.e("itemList")]).then(n.bind(null,"e258"))}},{path:"item/create",name:"CreateItem",component:function(){return Promise.all([n.e("connectionEditor~itemEditor"),n.e("itemEditor")]).then(n.bind(null,"8dc8"))},props:function(){return{redirect:!0}}},{path:"item/edit/:id",name:"EditItem",component:function(){return Promise.all([n.e("connectionEditor~itemEditor"),n.e("itemEditor")]).then(n.bind(null,"8dc8"))},props:function(e){return{editId:parseInt(e.params.id),redirect:!0}}},{path:"item/:itemId",name:"Item",props:function(e){return{id:parseInt(e.params.itemId)}},component:function(){return Promise.all([n.e("connectionEditor~connectionList~graphView~item~itemList"),n.e("itemList"),n.e("item")]).then(n.bind(null,"5adf"))}},{name:"Connections",path:"connections",component:function(){return Promise.all([n.e("connectionEditor~connectionList~graphView~item~itemList"),n.e("connectionList")]).then(n.bind(null,"7d09"))}},{path:"connection/create",name:"CreateConnection",component:function(){return Promise.all([n.e("connectionEditor~connectionList~graphView~item~itemList"),n.e("connectionEditor~itemEditor"),n.e("connectionEditor")]).then(n.bind(null,"ca11"))},props:function(){return{redirect:!0}}},{path:"connection/edit/:id",name:"EditConnection",component:function(){return Promise.all([n.e("connectionEditor~connectionList~graphView~item~itemList"),n.e("connectionEditor~itemEditor"),n.e("connectionEditor")]).then(n.bind(null,"ca11"))},props:function(e){return{editId:parseInt(e.params.id),redirect:!0}}},{path:"graph",name:"Graph",meta:{graph:!0},component:function(){return Promise.all([n.e("connectionEditor~connectionList~graphView~item~itemList"),n.e("itemList"),n.e("item"),n.e("graphView")]).then(n.bind(null,"28b4"))}},{path:"settings",name:"WorkspaceSettings",meta:{requiresAuth:!0},props:function(e){return{workspaceId:parseInt(e.params.workspaceId)}},component:function(){return n.e("workspaceSettings").then(n.bind(null,"eaf1"))}}]}],T=new E["a"]({mode:"history",base:"/",routes:N});T.beforeEach(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(null===(o=t.meta)||void 0===o?void 0:o.requiresAuth)||p["a"].getters.isAuthenticated()){e.next=18;break}return e.prev=1,e.next=4,g["e"].getCurrent();case 4:if(i=e.sent,!("success"in i)){e.next=10;break}return p["a"].mutations.setUser(i.data),e.abrupt("return",r());case 10:return e.abrupt("return",r({name:"Login"}));case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e["catch"](1),e.abrupt("return",r({name:"Login"}));case 16:e.next=19;break;case 18:return e.abrupt("return",r());case 19:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,n,r){return e.apply(this,arguments)}}());var H=T,M=n("9483");Object(M["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var D=n("a65d"),F=n.n(D);r["a"].use(F.a,{duration:1500,position:"top-center"}),r["a"].config.productionTip=!1,r["a"].use(c["b"]),new r["a"]({router:H,render:function(e){return e(k)}}).$mount("#app")},f27b:function(e,t,n){}});
//# sourceMappingURL=app.431d9e91.js.map